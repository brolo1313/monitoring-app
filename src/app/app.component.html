<ng-template #loader>
  <app-loader></app-loader>
</ng-template>

<!-- isDataReceived && !isLoading -->
<ng-container *ngIf="true; else loader">
  <div class="bento__container">
    <div class="bento__item bento__item-1">
      <h3>{{ cpuInfo?.details?.brand }}</h3>
      <div class="image-wrapper">
        <img src="../assets/icons/cpu.svg" alt="" />
      </div>

      <div class="cores-wrapper">
        <div
          class="core-item"
          *ngFor="let core of cpuInfo?.coresLoading?.cpus; let i = index"
        >
          <p>Core {{ i + 1 }}:</p>
          <p>{{ core?.loadSystem | round }}%</p>
        </div>
      </div>
    </div>

    <div class="bento__item bento__item-2">
      <h3>{{ gpuData.controllers[0].model }}</h3>
      <small>{{ gpuData.controllers[0].driverVersion }}V</small>
      <p>{{ gpuData.controllers[0].temperatureGpu }}&deg;</p>
      <div class="image-wrapper">
        <img src="../assets/icons/gpu.svg" alt="" />
      </div>
    </div>
    <ng-container *ngFor="let item of items">
      <div class="bento__item" [ngClass]="item.class">
        <ng-container *ngIf="item.type === type.wifiConnections">
          <h3>{{ item.wifiConnections[0].ssid }}</h3>
          <small>channel: {{ item.wifiConnections[0].channel }}</small>
          <small>signal Level: {{ item.wifiConnections[0].signalLevel }}</small>
          <small>type: {{ item.wifiConnections[0].type }}</small>
        </ng-container>

        <ng-container *ngIf="item.type === type.battery">
          <h3>BATTERY</h3>
          <small>model: {{ item.battery.model }}</small>
          <small>percent: {{ item.battery.percent }}%</small>
          <small>voltage: {{ item.battery.voltage }}V</small>
          <small>capacity: {{ item.battery.maxCapacity }}{{item.battery.capacityUnit}}</small>
        </ng-container>

        <ng-container *ngIf="item.type === type.memory">
          <h3>RAM</h3>
          <small>total: {{ item.memory.total }}</small>
          <small>used: {{ item.memory.used }}</small>
        </ng-container>

        <ng-container *ngIf="item.type === type.systemInfo">
          <h3>{{item.systemInfo.osInfo.distro}}</h3>
          <small>model notebook: {{ item.systemInfo.system.model }}</small>
          <small>bios version: {{ item.systemInfo.bios.version }}</small>
        </ng-container>
      </div>
    </ng-container>
  </div>
</ng-container>

<ng-template #loader>
  <div class="loading-indicator">Loading system information...</div>
</ng-template>
